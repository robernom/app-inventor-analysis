\documentclass[a4paper]{article}

\newif\ifdraft
\drafttrue
%\draftfalse

\usepackage{graphicx}
\usepackage{twocolpceurws}
\usepackage{xspace}
\usepackage{color}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{hyperref}

\input{macros}

\title{A Preliminary Quantitative Analysis of App Inventor projects}

\author{
Roberto Nombela \\ Universidad Rey Juan Carlos\\
                Madrid, Spain \\ r.nombelaa@alumnos.urjc.es
\and
Gregorio Robles \\Universidad Rey Juan Carlos \\
                Fuenlabrada, Madrid, Spain \\grex@gsyc.urjc.es
}

\institution{}

\begin{document}
\maketitle

\begin{abstract}
Visual programming languages help learners to acquire and improve programming and computational skills.
There are many visual programming languages and platforms currently, being Scratch the most popular one.
After Scratch, learners usually move to other visual languages, as for instance MIT App Inventor, a visual programming language block-based to create Android applications.
Many studies exist on the acquisition and assessment of computational thinking skills in Scratch.
However, despite its wide use, similar studies on the use of App Inventor can be seldom found.
That is why in this paper we gather and analyze App Inventor projects with the goal of having an overview of the type of projects that are created.
Our aim in the long run is to create tools that support the learning process of App Inventor.
\end{abstract}


\section{Introduction}

In recent years, the concept of Computational Thinking (CT) has been presented as a process to solve problems, not necessarily only in programming~\cite{wing2006computational}. 
CT includes skills that facilitate the resolution of problems, such as: abstraction, algorithmic and parallel thinking, data representation. These abilities make the CT a fundamental help for any learner.

One way to acquire and improve the skills of CT and programming level are visual programming languages.
This is because programming involves activities such as the ability to design, create and invent new media~\cite{resnick2009scratch}.
The Scratch and App Inventor visual programming languages are examples of this.

Because of this, tools that assess the CT skills from the projects of these programming languages have also emerge, for example Dr. Scratch~\cite{moreno2015dr} and Code Master that analyze the Scratch and App Inventor (and Snap!) projects respectively. 
At current time, these assessments have turned out to be more useful for educators than for learners by the fact that the latter do not receive enough feedback to improve~\cite{robles2018ontools}.

This study aims to find a way to help learners improve by analyzing the blocks of App Inventor projects. Observing values as number or variety of blocks we will have an overview of the type of projects that the App Inventor community are creating.

For the analysis, more than 1000 projects obtained from the Gallery of App Inventor web have been used. 
In this Gallery you can find tens of thousands of projects uploaded by users. The age, gender, nationality or level of programming of the users are unknown.

This paper is structured as follows: the Methodology section talks about the acquisition and preparation of the data for the analysis and the Results section shows what has been obtained using the cleaned data. Finally in the Conclusions section we interpret the results.

\section{Methodology}


\subsection{Data Gathering}

The process of data gathering consists of downloading projects from the App Inventor Gallery. In addition to the most popular projects, the most recent ones have also been downloaded, since many projects are being uploaded every day. One problem with this is that you can find many empty (0 blocks) or duplicate projects. Another problem is the difficulty to automate the download process because you have to make a copy of the Gallery projects to your account projects and then download them. All compressed projects can be found on GitHub\footnote{\url{https://www.github.com/robernom/app-inventor-analysis}}.
\rnombela{I can't upload the zip to the repo because it's too large}

Every project has two different types of files per screen, bky and scm. In bky files we can see, in XML format, all the blocks used. While scm files use JSON structure and represent all the components used. Thus, to extract the blocks we run a script that creates a dictionary where the key is the type and the value is the number of blocks of that type, looks at the next block and if it is a new type it is included to the dictionary with value one, otherwise it is added one to the value. Using this script for each project we have all the blocks extracted and classified, so this information is saved in a CSV file. Once we have all projects prepared, we must discard empty or duplicate projects.

In order to assess the projects, we use our own tool called Dr. App Inventor, a tool based on Dr. Scratch with the 
rubric\footnote{\url{http://apps.computacaonaescola.ufsc.br:8080/rubrica_appinventor.jsp}} of Code Master.

\rnombela{Is this ok? Should I add something else?}

\begin{table}[ht]
\begin{center}
\caption{Comparative table of the number of blocks}

\bigskip

\begin{tabular}{|l|r|r|r|}
\hline
& Original & No empty & No duplicate \\ \hline
Frequency & 1,222 & 1,102 & 730\\ \hline
Mean & 187.89 & 208.35 & 211.48\\ \hline
Std. Dev & 463.68 & 483.9 & 502.62 \\ \hline
Minimum & 0 & 1 & 1\\ \hline
Maximum & 5,476 & 5,476 & 5,476 \\ \hline
\end{tabular}
\end{center}
\end{table}

Next, the ``used blocks'' are studied, that is, each type of block adds one for each project in which it has been used. The ``repeated blocks'' are also studied: we add the number of each type of blocks used in each project. We can see that the correlation of both is 0.84, which means that they are highly related.

\section{Results}

In the App Inventor documentation web page\footnote{\url{http://appinventor.mit.edu/explore/ai2/support/blocks.html}} there are 8 families of blocks: control, logic, math, text, list, color, variable and procedures. Table~\ref{tab:block-fam} shows the different families and what each one can include. In addition to these 8 families there is one more: Components. This family is composed of all the elements that can be used in App Inventor to create applications. Each component can have methods, events and properties.

\begin{table}[ht]
\begin{center}
\caption{Blocks families and properties}
\bigskip
\label{tab:block-fam}
\begin{tabular}{|l|l|}
\hline
\textbf{Control} & Conditionals, loops... \\ \hline
\textbf{Logic} & True, false, and, or... \\ \hline
\textbf{Math} & Numbers, operations\\ \hline
\textbf{Text} & String functions\\ \hline
\textbf{List} & List functions\\ \hline
\textbf{Color} & Color box, make or split color \\ \hline
\textbf{Variable} & Initialize/Set/Get variable\\ \hline
\textbf{Procedure} & Do/Result\\ \hline
\end{tabular}
\end{center}
\end{table}

We add all the blocks according to their family in order to check which family is the most used. Component is the most used while Color is the least, this is logical because an application needs more a button or a media player, for example, than any color.

\begin{table}[ht]
\begin{center}
\caption{Comparison of the use of the families}
\bigskip
\label{tab:block-fam-comp}
\begin{tabular}{|l|r|}
\hline
\textbf{Family} & \textbf{Frequency} \\ \hline
Component & 49,507 \\ \hline
Text	& 25,426\\ \hline
Math & 24,862\\ \hline
Variables & 21,765\\ \hline
Logic & 12,792\\ \hline
Control & 8,915\\ \hline
Lists & 4,381\\ \hline
Procedure & 4,282\\ \hline
Colors & 2,452\\ \hline
Total & 154,382\\ \hline
\end{tabular}
\end{center}
\end{table}

Now, we want to do the same process but for all the blocks regardless of the family. Doing this, we obtain the results shown in Table~\ref{tab:most-least}. \grex{Elaborate on the results!}
\rnombela{I still have to expand this}

\begin{table}[ht]
\begin{center}
\caption{Most and less used blocks}
\bigskip
\label{tab:most-least}
\begin{tabular}{|l|r|}
\hline
component\_set\_get & 28,927\\ \hline
text & 22,644\\ \hline
math\_number & 15,308\\ \hline
lexical\_variable\_get & 14,662\\ \hline
component\_event & 9,599\\ \hline
... & ... \\ \hline
list\_to\_csv\_table & 3\\ \hline
math\_tan & 2\\ \hline
obfuscated\_text & 2\\ \hline
text\_is\_string & 2\\ \hline
controls\_closeScreenWithPlainText & 1\\ \hline
\end{tabular}
\end{center}
\end{table}

Finally, we want to represent the most and least used blocks for projects with a variety less than 10, results can be seen in Table~\ref{tab:most-least-small}. \grex{Elaborate on the results!}
\rnombela{I still have to expand this}

\begin{table}[ht]
\begin{center}
\caption{Most and less used blocks for small projects}

\bigskip
\label{tab:most-least-small}
\begin{tabular}{|l|r|}
\hline
component\_set\_get & 5,562\\ \hline
text & 4,538\\ \hline
component\_event & 3,960\\ \hline
component\_method & 3,484\\ \hline
controls\_openAnotherScreen & 1,277\\ \hline
... & ... \\ \hline
text\_trim & 0\\ \hline
math\_divide & 0\\ \hline
math\_cos & 0\\ \hline
controls\_forEach & 0\\ \hline
math\_convert\_number & 0\\ \hline
\end{tabular}
\end{center}
\end{table}


\subsection{Study of the scores depending on the variety}

The distribution of the variety of blocks (number of different blocks used) for each project can be seen in Figure~\ref{fig:var-dist}. We can see that the predominant values of the variety are between 3 and 6, in addition there are some projects around 50 and an isolated project with 61 different blocks.

\begin{figure}[ht]
\begin{center}
\includegraphics[height=5cm]{fig1}
\caption{Variety distribution \grex{elaborate}}
\rnombela{Add something else?}
\label{fig:var-dist}
\end{center}
\end{figure}

Projects with more than 10 blocks represent 48.2\% (352 of 730) of the blocks and the scores can be characterized as seen in the following table versus the scores of the projects with less than 10 blocks:

\begin{table}[ht]
\begin{center}
\caption{Comparative table of scores between small and large projects}

\bigskip

\begin{tabular}{|l|r|r|}
\hline
& Large projects & Small projects \\ \hline
Frequency & 352 & 378\\ \hline
Percentage & 48.2 & 51.8\\ \hline
Mean & 18.56 & 9.89\\ \hline
Std. Deviation & 5.33 & 3.27\\ \hline
Minimum & 7 & 3\\ \hline
Maximum & 36 & 19\\ \hline
\end{tabular}
\end{center}
\end{table}

\rnombela{I have to include more results}

\subsubsection{Acknowledgements}

This research has been supported in part 
by the Region of Madrid under project ``eMadrid:
Investigación y Desarrollo de tecnologías educativas en la
Comunidad de Madrid'' (S2013/ICE-2715).


\bibliographystyle{plain} 
\bibliography{samplebib}
%inline the .bbl file directly for mailing to authors.

\end{document}


